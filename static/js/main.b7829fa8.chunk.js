(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{223:function(e,t,a){},224:function(e,t,a){},273:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(17),i=a.n(r),s=(a(223),a(10)),l=a(26),o=a(8),d=(a(224),a(22)),j=a(55),b=a.n(j),u=a(82),h=a(13),m=a(460),p=a(432),O=a(426),x=a(461),g=a(382),f=a(424),v=a(136),y=a.n(v),N=a(203),k=a(422),w=a(18),C=a.n(w),S=a(457),T=a(1),P=Object(k.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{width:"60px",height:"60px",margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var I=function(e){var t=P(),a=Object(c.useState)([]),n=Object(o.a)(a,2),r=n[0],i=n[1],l=Object(c.useState)({}),d=Object(o.a)(l,2),j=d[0],v=d[1],k={username:C.a.string().required().min(8).max(30),password:C.a.string().required().min(8).max(30)};return Object(T.jsxs)(f.a,{container:!0,component:"main",className:t.root,children:[Object(T.jsx)(O.a,{}),Object(T.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:6,square:!0,children:Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)(m.a,{className:t.avatar,children:Object(T.jsx)(y.a,{})}),Object(T.jsx)(N.a,{component:"h1",variant:"h5",children:"Sign in"}),r.length>0&&r.map((function(e){return Object(T.jsx)(S.a,{className:"mt-4",severity:"error",children:e.message})})),Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=C.a.validate(j,k);function c(){return(c=Object(u.a)(b.a.mark((function t(){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://cashie-backend.herokuapp.com/api/","auth/login"),{method:"POST",body:JSON.stringify(j),headers:{"Content-type":"application/json"}});case 2:return a=t.sent,t.next=5,a.json();case 5:"success"===(c=t.sent).status?(i([]),localStorage.setItem("token",c.token),e.history.push("/dashboard/main")):i([{message:"Authentication failed"}]);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a.error?i(a.error.details):function(){c.apply(this,arguments)}()},onChange:function(e){v(Object(s.a)(Object(s.a)({},j),{},Object(h.a)({},e.target.name,e.target.value)))},className:t.form,noValidate:!0,children:[Object(T.jsx)(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",autoComplete:"email",autoFocus:!0}),Object(T.jsx)(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(T.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})})]})},q=a(433),B=a(5),z=a(427),D=a(184),_=a.n(D),U=a(462),A=a(431),E=a(434),W=a(185),L=a.n(W),F=Object(k.a)((function(e){return{typography:{padding:e.spacing(2)}}})),R=Object(B.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(q.a);function M(){F();var e=Object(c.useContext)(Ut).cartItems,t=n.a.useState(null),a=Object(o.a)(t,2),r=a[0],i=a[1],s=Boolean(r),l=s?"simple-popover":void 0;return Object(T.jsx)("div",{class:"header-wrapper",children:Object(T.jsxs)("div",{className:"nav-list",children:[Object(T.jsx)(z.a,{"aria-label":"cart",className:"me-5",children:Object(T.jsx)(R,{badgeContent:e.length,color:"secondary",children:Object(T.jsx)(_.a,{})})}),Object(T.jsx)(L.a,{className:"navimage",onClick:function(e){i(e.currentTarget)}}),Object(T.jsx)(U.a,{id:l,open:s,anchorEl:r,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(E.a,{children:"Settings"}),Object(T.jsx)(E.a,{children:"Account"}),Object(T.jsx)(E.a,{children:"Logout"})]})})]})})}var Q=a(20),G=a(186),H=a.n(G),V=a(187),$=a.n(V),J=a(190),Y=a.n(J),K=a(188),Z=a.n(K),X=a(191),ee=a.n(X),te=a(189),ae=a.n(te);var ce=function(e){var t=Object(d.g)().pathname.split("/");return Object(T.jsxs)("div",{children:[Object(T.jsx)(Q.b,{to:"/dashboard/main",children:Object(T.jsxs)("div",{className:"sidebar-links ".concat(t.includes("main")?"sidebar-active":""),children:[Object(T.jsx)(H.a,{}),Object(T.jsx)("p",{children:"Dashboard"})]},"1")}),Object(T.jsx)(Q.b,{to:"/dashboard/user",children:Object(T.jsxs)("div",{className:"sidebar-links ".concat(t.includes("user")?"sidebar-active":""),children:[Object(T.jsx)($.a,{}),Object(T.jsx)("p",{children:"User"})]},"2")}),Object(T.jsx)(Q.b,{to:"/dashboard/category",children:Object(T.jsxs)("div",{className:"sidebar-links ".concat(t.includes("category")?"sidebar-active":""),children:[Object(T.jsx)(Z.a,{}),Object(T.jsx)("p",{children:"Category"})]},"3")}),Object(T.jsx)(Q.b,{to:"/dashboard/product",children:Object(T.jsxs)("div",{className:"sidebar-links ".concat(t.includes("product")?"sidebar-active":""),children:[Object(T.jsx)(ae.a,{}),Object(T.jsx)("p",{children:"Product"})]},"4")}),Object(T.jsx)(Q.b,{to:"/dashboard/transaction",children:Object(T.jsxs)("div",{className:"sidebar-links ".concat(t.includes("transaction")?"sidebar-active":""),children:[Object(T.jsx)(Y.a,{}),Object(T.jsx)("p",{children:"Transaction"})]},"5")}),Object(T.jsx)(Q.b,{to:"/dashboard/report",children:Object(T.jsxs)("div",{className:"sidebar-links ".concat(t.includes("report")?"sidebar-active":""),children:[Object(T.jsx)(ee.a,{}),Object(T.jsx)("p",{children:"Report"})]},"6")})]})},ne=a(435),re=a(430),ie=a(456),se=a(84),le=a.n(se),oe=a(15),de=a.n(oe),je=a(16),be=a.n(je),ue=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3),padding:"20px"},submit:{margin:e.spacing(3,0,2)}}}));function he(e){var t,a=ue(),n=Object(c.useState)({role:"Admin"}),r=Object(o.a)(n,2),i=r[0],l=r[1],d=Object(c.useState)("POST"),j=Object(o.a)(d,2),b=j[0],u=j[1],m=Object(c.useState)(null),O=Object(o.a)(m,2),g=O[0],v=O[1];Object(c.useEffect)((function(){var t=e.match.params.id;t&&de()("".concat("https://cashie-backend.herokuapp.com/api/","user/").concat(t)).then((function(e){"success"===e.data.status&&(l(e.data.data),u("PUT"))}))}),[]),console.log(i);var y={fullname:C.a.string().required().min(8).max(50),username:C.a.string().required().min(8).max(30),email:C.a.string().email().required().min(8).max(30),password:"PUT"===b?C.a.string().min(8).max(30):C.a.string().required().min(8).max(30),role:C.a.string().required()};console.log(i);return Object(T.jsx)("div",{className:"maindivform",children:Object(T.jsxs)(ne.a,{component:"main",maxWidth:"lg",children:[Object(T.jsx)("p",{className:"mt-0",children:"\xa0"}),Object(T.jsxs)("p",{className:"headingform mt-3",children:[Object(T.jsx)(le.a,{onClick:function(){return e.history.goBack()},className:"backbtn"}),"\xa0\xa0\xa0\xa0\xa0","POST"===b?"Create New User":"Update User"]}),Object(T.jsx)("div",{className:"divform",children:Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=C.a.validate(i,y,{abortEarly:!1});a.error?v(a.error.details):de()({method:b,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===b?"user/"+e.match.params.id:"user"),data:i}).then((function(t){"success"===t.data.status?(v(null),be.a.fire("Success","User ".concat("PUT"===b?"updated":"created"," successfully..."),"success"),e.history.goBack()):be.a.fire("Opps","Something went wrong...","error")})).catch((function(e){return be.a.fire("Opps","Something went wrong...","error")}))},onChange:function(e){l(Object(s.a)(Object(s.a)({},i),{},Object(h.a)({},e.target.name,e.target.value)))},className:a.form,noValidate:!0,children:[Object(T.jsxs)(f.a,{container:!0,spacing:3,children:[Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(x.a,{name:"fullname",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",placeholder:"Full Name",InputLabelProps:{shrink:!1},value:i&&i.fullname,helperText:g&&g.find((function(e){return"fullname"===e.context.key}))&&g.filter((function(e){return"fullname"===e.context.key})).map((function(e){return e.message}))})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(x.a,(t={variant:"outlined",required:!0,fullWidth:!0,id:"lastName",placeholder:"Username",name:"username",InputLabelProps:{shrink:!1}},Object(h.a)(t,"name","username"),Object(h.a)(t,"autoComplete","lname"),Object(h.a)(t,"value",i&&i.username),Object(h.a)(t,"helperText",g&&g.find((function(e){return"username"===e.context.key}))&&g.filter((function(e){return"username"===e.context.key})).map((function(e){return e.message}))),t))}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",placeholder:"Email Address",name:"email",InputLabelProps:{shrink:!1},autoComplete:"email",value:i&&i.email,helperText:g&&g.find((function(e){return"email"===e.context.key}))&&g.filter((function(e){return"email"===e.context.key})).map((function(e){return e.message}))})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(f.a,{item:!0,xs:12,children:Object(T.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",type:"password",placeholder:"Password",InputLabelProps:{shrink:!1},helperText:g&&g.find((function(e){return"password"===e.context.key}))&&g.filter((function(e){return"password"===e.context.key})).map((function(e){return e.message}))})})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(re.a,{variant:"outlined",fullWidth:!0,children:Object(T.jsxs)(ie.a,{native:!0,fullWidth:!0,label:"Role",value:i.role,inputProps:{name:"role",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{selected:"".concat("admin"===i.role),value:"Admin",children:"Admin"}),Object(T.jsx)("option",{selected:"".concat("cashier"===i.role),value:"Cashier",children:"Cashier"})]})})})]}),Object(T.jsx)("div",{className:"btndiv",children:"POST"===b?Object(T.jsx)(p.a,{type:"submit",variant:"contained",size:"large",color:"secondary",className:"c-btn mt-5",children:"Create"}):Object(T.jsx)(p.a,{type:"submit",variant:"contained",size:"large",color:"secondary",className:"c-btn mt-5",children:"Update"})})]})})]})})}var me=a(197),pe=a(31),Oe=a(453),xe=a(36),ge=a.n(xe),fe=a(465),ve=a(444),ye=a(439),Ne=a(443),ke=a(442),we=a(440),Ce=a(441),Se=a(40),Te=a.n(Se),Pe=Object(k.a)({table:{minWidth:650},formcont:{backgroundColor:"white",borderRadius:"15dp"},realpaper:{borderRadius:"20px",marginTop:"15px",paddingLeft:"10px"}});function Ie(e){var t=Pe(),a=Object(c.useState)(null),n=Object(o.a)(a,2),r=n[0],i=n[1],l=Object(c.useState)(null),d=Object(o.a)(l,2),j=d[0],b=(d[1],Object(c.useState)({sort:"Newest",limit:20,page:0,start:Te()().startOf("week").format("llll"),end:Te()().endOf("week").format("llll")})),u=Object(o.a)(b,2),m=u[0],p=u[1];console.log(r),Object(c.useEffect)((function(){de()({url:"".concat("https://cashie-backend.herokuapp.com/api/","transaction?").concat(ge.a.stringify(m)),headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status&&i(e.data.data.transactions)}))}),[j,m]);return Object(T.jsxs)("div",{className:"maindivuser",children:[Object(T.jsxs)(ne.a,{className:"mb-3",children:[Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/new"),children:Object(T.jsx)("h5",{className:"reportheading",children:"Reports"})})}),Object(T.jsx)(f.a,{container:!0,justifyContent:"flex-end",children:Object(T.jsx)("form",{children:Object(T.jsx)(pe.a,{utils:me.a,children:Object(T.jsxs)(f.a,{container:!0,justifyContent:"space-around",children:[Object(T.jsx)(re.a,{square:!1,size:"small",variant:"outlined",className:" rounded ".concat(t.formControl," ").concat(t.formcont," me-3"),children:Object(T.jsx)(Oe.a,{className:"m-2",disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"start",label:"Start",value:m.start,onChange:function(e){p(Object(s.a)(Object(s.a)({},m),{},Object(h.a)({},"start",e)))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(T.jsx)(re.a,{square:!1,size:"small",variant:"outlined",className:"".concat(t.formControl," ").concat(t.formcont," me-3 rounded"),children:Object(T.jsx)(Oe.a,{className:"m-2",disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"end",label:"End",value:m.end,onChange:function(e){p(Object(s.a)(Object(s.a)({},m),{},Object(h.a)({},"end",e)))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(T.jsxs)(re.a,{square:!1,size:"small",className:"rounded ".concat(t.formControl," ").concat(t.formcont," me-5"),children:[Object(T.jsx)(fe.a,{className:"mt-2 ms-3",htmlFor:"outlined-age-native-simple",children:"Sort By"}),Object(T.jsxs)(ie.a,{className:"mt-4 ms-3 me-3",native:!0,onChange:function(e){p(Object(s.a)(Object(s.a)({},m),{},Object(h.a)({},"sort",e.target.value))),console.log(m)},value:m.sort,inputProps:{name:"sort",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{value:"Newest",children:"Newest"}),Object(T.jsx)("option",{value:"Oldest",children:"Oldest"})]})]})]})})})}),Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(f.a,{item:!0,xs:11,className:"m-auto mt-3",children:Object(T.jsx)(g.a,{container:!0,square:!1,className:t.realpaper,children:Object(T.jsxs)(ye.a,{className:"".concat(t.table," m-auto mt-4 mb-4"),"aria-label":"simple table",children:[Object(T.jsx)(we.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"ID"}),Object(T.jsx)(ke.a,{align:"left",children:"Date"}),Object(T.jsx)(ke.a,{align:"left",children:"Quantity"}),Object(T.jsx)(ke.a,{align:"right",children:"Grand Total"})]})}),Object(T.jsx)(Ne.a,{children:r?r.map((function(e){return Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{component:"th",scope:"row",align:"left",children:e._id}),Object(T.jsx)(ke.a,{align:"left",children:Te()(e.updatedAt).format("llll")}),Object(T.jsx)(ke.a,{align:"left",children:e.items.length}),Object(T.jsx)(ke.a,{align:"right",children:e.grandtotal})]},e._id)})):Object(T.jsx)(Ce.a,{children:Object(T.jsx)(ke.a,{colSpan:"4",children:Object(T.jsx)(ve.a,{style:{height:"20px",width:"100%"}})})})})]})})})})]}),Object(T.jsx)("div",{className:"enddivuser",children:Object(T.jsx)("p",{children:"End of Data"})})]})}var qe=a(464),Be=a(438),ze=a(59),De=a.n(ze),_e=a(87),Ue=a.n(_e),Ae=a(85),Ee=a.n(Ae),We=a(86),Le=a.n(We),Fe=Object(k.a)({table:{minWidth:650},formcont:{backgroundColor:"white"},realpaper:{borderRadius:"20px",marginTop:"15px",paddingLeft:"10px",display:"flex"}});function Re(e){var t=Fe(),a=Object(c.useState)(null),r=Object(o.a)(a,2),i=r[0],l=r[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],u=j[1],m=n.a.useState(null),p=Object(o.a)(m,2),O=p[0],x=p[1],v=Object(c.useState)(null),y=Object(o.a)(v,2),N=y[0],k=y[1],w=Object(c.useState)({sort:"Newest",limit:300,page:0}),C=Object(o.a)(w,2),S=C[0],P=C[1];Object(c.useEffect)((function(){de()({url:"".concat("https://cashie-backend.herokuapp.com/api/","category?").concat(ge.a.stringify(S)),headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status&&l(e.data.data.categories)}))}),[b,S]);var I=function(e){x(e.currentTarget),k(e.currentTarget.id)},q=function(){x(null)},B=Boolean(O);return Object(T.jsxs)("div",{className:"maindivuser",children:[Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/new"),children:Object(T.jsx)("button",{className:"useraddbtn mt-5 ms-5",children:"+ New Category"})})}),Object(T.jsx)(f.a,{container:!0,justifyContent:"flex-end",children:Object(T.jsxs)("form",{onChange:function(e){P(Object(s.a)(Object(s.a)({},S),{},Object(h.a)({},e.target.name,e.target.value)))},children:[Object(T.jsx)(re.a,{size:"small",variant:"outlined",className:"".concat(t.formcont," me-4"),children:Object(T.jsx)(qe.a,{id:"outlined-adornment-password",name:"keyword",placeholder:"Search Category...",endAdornment:Object(T.jsx)(Be.a,{position:"end",children:Object(T.jsx)(Ee.a,{})}),labelWidth:70})}),Object(T.jsxs)(re.a,{size:"small",variant:"outlined",className:"".concat(t.formControl," ").concat(t.formcont," me-5"),children:[Object(T.jsx)(fe.a,{htmlFor:"outlined-age-native-simple",children:"Sort By"}),Object(T.jsxs)(ie.a,{native:!0,value:S.sort,inputProps:{name:"sort",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{value:"Newest",children:"Newest"}),Object(T.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(T.jsx)("option",{value:"Name",children:"Name"})]})]})]})}),Object(T.jsx)(f.a,{container:!0,children:Object(T.jsxs)(f.a,{item:!0,xs:11,lg:11,className:"m-auto",children:[Object(T.jsx)("h5",{className:"m-2",children:"Category Name"}),Object(T.jsx)(ye.a,{className:"".concat(t.table," m-auto mt-4 mb-4"),"aria-label":"simple table",children:i?i.map((function(a){return Object(T.jsx)(g.a,{container:!0,square:!1,className:t.realpaper,children:Object(T.jsx)(Ne.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{className:"leftalign",component:"th",scope:"row",align:"left",children:a.name}),Object(T.jsxs)(ke.a,{align:"right",className:"rightalign",children:[Object(T.jsx)(Le.a,{id:a._id,className:"optionbtn",onClick:I}),Object(T.jsx)(U.a,{id:a._id,open:B,anchorEl:O,onClose:q,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsxs)(A.a,{children:[Object(T.jsxs)(E.a,{className:"optionitemuser",children:[Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/update/").concat(N),children:Object(T.jsx)(Ue.a,{className:"optionitemuser me-2"})}),"Edit"]}),Object(T.jsxs)(E.a,{onClick:function(){return e=N,void be.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#090636",cancelButtonColor:"#f33968",confirmButtonText:"Delete"}).then((function(t){t.isConfirmed&&de.a.delete("".concat("https://cashie-backend.herokuapp.com/api/","category/").concat(e),{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status?(be.a.fire("Deleted!","Category has been deleted..","success"),u(!b)):be.a.fire("Opps!","Somthing went wrong..","error")})).catch((function(e){be.a.fire("Opps!","Somthing went wrong..","error")}))}));var e},className:"optionitemuser",children:[Object(T.jsx)(De.a,{className:"me-2"}),"Delete"]})]})},a._id)]})]},a._id)})})})):Object(T.jsx)(Ce.a,{children:Object(T.jsx)(ke.a,{colSpan:"5",children:Object(T.jsx)(ve.a,{style:{height:"20px",width:"100%"}})})})})]})})]}),Object(T.jsx)("div",{className:"enddivuser",children:Object(T.jsx)("p",{children:"End of Data"})})]})}var Me=a(466),Qe=Object(k.a)({table:{width:"90%",minWidth:650},formcont:{backgroundColor:"white"},realpaper:{borderRadius:"15px"}});function Ge(e){var t=Qe(),a=Object(c.useState)(null),r=Object(o.a)(a,2),i=(r[0],r[1]),l=Object(c.useState)(null),d=Object(o.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)(!1),m=Object(o.a)(u,2),p=m[0],O=m[1],x=n.a.useState(null),v=Object(o.a)(x,2),y=v[0],N=v[1],k=Object(c.useState)(null),w=Object(o.a)(k,2),C=w[0],S=w[1],P=Object(c.useState)({sort:"Newest",limit:100}),I=Object(o.a)(P,2),q=I[0],B=I[1];Object(c.useEffect)((function(){de()({url:"".concat("https://cashie-backend.herokuapp.com/api/","product?").concat(ge.a.stringify(q)),headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status&&b(e.data.data.products)}))}),[p,q]);var z=function(e){N(e.currentTarget),S(e.currentTarget.id)},D=function(){N(null)},_=Boolean(y);return Object(T.jsxs)("div",{className:"maindivuser",children:[Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/new"),children:Object(T.jsx)("button",{className:"useraddbtn mt-5 ms-5",children:"+ New Product"})})}),Object(T.jsx)(f.a,{container:!0,justifyContent:"flex-end",children:Object(T.jsxs)("form",{onChange:function(e){i(null),B(Object(s.a)(Object(s.a)({},q),{},Object(h.a)({},e.target.name,e.target.value)))},children:[Object(T.jsx)(re.a,{size:"small",variant:"outlined",className:"".concat(t.formcont," me-4"),children:Object(T.jsx)(qe.a,{id:"outlined-adornment-password",name:"keyword",placeholder:"Search products...",endAdornment:Object(T.jsx)(Be.a,{position:"end",children:Object(T.jsx)(Ee.a,{})}),labelWidth:70})}),Object(T.jsxs)(re.a,{size:"small",variant:"outlined",className:"".concat(t.formControl," ").concat(t.formcont," me-5"),children:[Object(T.jsx)(fe.a,{htmlFor:"outlined-age-native-simple",children:"Sort By"}),Object(T.jsxs)(ie.a,{native:!0,value:q.sort,inputProps:{name:"sort",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{value:"Newest",children:"Newest"}),Object(T.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(T.jsx)("option",{value:"Highest to Lowest",children:"Highest to Lowest"}),Object(T.jsx)("option",{value:"Lowest to Highest",children:"Lowest to Highest"}),Object(T.jsx)("option",{value:"Name",children:"Name"})]})]})]})}),Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(f.a,{item:!0,xs:11,className:"m-auto",children:Object(T.jsx)(g.a,{container:!0,square:!1,className:t.realpaper,children:Object(T.jsxs)(ye.a,{className:"".concat(t.table," m-auto mt-4 mb-4"),"aria-label":"simple table",children:[Object(T.jsx)(we.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{children:"Image"}),Object(T.jsx)(ke.a,{align:"right",children:"Name"}),Object(T.jsx)(ke.a,{align:"right",children:"Price"}),Object(T.jsx)(ke.a,{align:"right",children:"Category"}),Object(T.jsx)(ke.a,{align:"right"})]})}),Object(T.jsx)(Ne.a,{children:j?j.map((function(t){return Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{component:"th",scope:"row",children:Object(T.jsx)("img",{style:{width:"75px"},src:t.image,alt:""})}),Object(T.jsx)(ke.a,{align:"right",children:t.name}),Object(T.jsx)(ke.a,{align:"right",children:"$".concat(t.price)}),Object(T.jsx)(ke.a,{align:"right",children:Object(T.jsx)(Me.a,{color:"secondary",label:t.category[0].name})}),Object(T.jsxs)(ke.a,{align:"right",children:[Object(T.jsx)(Le.a,{id:t._id,className:"optionbtn",onClick:z}),Object(T.jsx)(U.a,{id:t._id,open:_,anchorEl:y,onClose:D,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsxs)(A.a,{children:[Object(T.jsxs)(E.a,{className:"optionitemuser",children:[Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/update/").concat(C),children:Object(T.jsx)(Ue.a,{className:"optionitemuser me-2"})}),"Edit"]}),Object(T.jsxs)(E.a,{onClick:function(){return e=C,void be.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#090636",cancelButtonColor:"#f33968",confirmButtonText:"Delete"}).then((function(t){t.isConfirmed&&de.a.delete("".concat("https://cashie-backend.herokuapp.com/api/","product/").concat(e),{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status?(be.a.fire("Deleted!","Product has been deleted..","success"),O(!p)):be.a.fire("Opps!","Somthing went wrong..","error")})).catch((function(e){be.a.fire("Opps!","Somthing went wrong..","error")}))}));var e},className:"optionitemuser",children:[Object(T.jsx)(De.a,{className:"me-2"}),"Delete"]})]})},t._id)]})]},t._id)})):Object(T.jsx)(Ce.a,{children:Object(T.jsx)(ke.a,{colSpan:"5",children:Object(T.jsx)(ve.a,{style:{height:"20px",width:"100%"}})})})})]})})})})]}),Object(T.jsx)("div",{className:"enddivuser",children:Object(T.jsx)("p",{children:"End of Data"})})]})}var He=a(199),Ve=a(454),$e=a(455),Je=a(446),Ye=a(447),Ke=a(448),Ze=a(451),Xe=a(450),et=a(449),tt=a(193),at=a.n(tt),ct=a(192),nt=a.n(ct),rt=de.a.create({baseURL:"".concat("https://cashie-backend.herokuapp.com/api/"),headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),it=a(459),st=a(437),lt=a(436),ot=a(445),dt=Object(k.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function jt(e){var t=e.isOpen,a=e.transactionData,c=(e.onOpen,e.onClose),r=dt(),i=n.a.useState(!1),s=Object(o.a)(i,2);s[0],s[1];return Object(T.jsx)("div",{children:Object(T.jsxs)(it.a,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsxs)(ot.a,{id:"alert-dialog-title",children:[Object(T.jsx)(N.a,{align:"center",className:"text-muted",variant:"h4",component:"h5",gutterBottom:!0,children:"Receipt"}),Object(T.jsx)(N.a,{align:"center",className:"text-muted",variant:"caption",component:"h5",gutterBottom:!0,children:a&&Te()(a.createdAt).format("llll")}),Object(T.jsx)(N.a,{align:"center",className:"text-muted",variant:"caption",component:"h5",gutterBottom:!0,children:a&&a._id})]}),Object(T.jsxs)(lt.a,{children:[Object(T.jsxs)(ye.a,{className:r.table,"aria-label":"simple table",children:[Object(T.jsx)(we.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"Product"}),Object(T.jsx)(ke.a,{align:"center",children:"Quantity"}),Object(T.jsx)(ke.a,{align:"center",children:"Unit Price"}),Object(T.jsx)(ke.a,{align:"right",children:"Total"})]})}),Object(T.jsx)(Ne.a,{children:a&&a.products.length&&a.products.map((function(e){return Object(T.jsxs)(Ce.a,{children:[Object(T.jsxs)(ke.a,{align:"left",children:[e.name," ",e.price]}),Object(T.jsxs)(ke.a,{align:"right",children:[e.qty," "]}),Object(T.jsxs)(ke.a,{align:"right",children:[e.price," "]}),Object(T.jsx)(ke.a,{align:"right",children:(e.price*e.qty).toFixed(2)})]},e._id)}))})]}),Object(T.jsxs)(ye.a,{children:[Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"right",children:"Sub Total"}),Object(T.jsx)(ke.a,{align:"right",children:a&&a.subtotal})]}),Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"right",children:"Discount"}),Object(T.jsx)(ke.a,{align:"right",children:a&&a.discount})]}),Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"right",children:Object(T.jsx)(N.a,{variant:"h5",component:"h5",children:"Grand Total"})}),Object(T.jsx)(ke.a,{align:"right",children:Object(T.jsx)(N.a,{variant:"h5",component:"h5",children:a&&a.grandtotal.toFixed(2)})})]})]})]}),Object(T.jsx)(st.a,{children:Object(T.jsx)("button",{onClick:c,className:"reciptbtn",children:"Print Receipt"})})]})})}function bt(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],i=Object(c.useContext)(At),s=Object(c.useContext)(Ut),l=s.cartItems.length?s.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0):0,d=i?+i.discount/100*l:0,j=s.cartItems,h=i?+i.tax/100*l:0,m=i?l+h-d:0,O=Object(c.useState)(null),x=Object(o.a)(O,2),g=x[0],f=x[1],v=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===j.length){e.next=6;break}return e.next=3,rt.post("transaction",{items:j,discount:d,grandtotal:m,subtotal:l});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!1;case 7:(t=e.t0)&&"success"===t.data.status&&(s.removeAllCartItems(),f(t.data.data),r(!0));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(ne.a,{children:[Object(T.jsxs)(ye.a,{"aria-label":"simple table",children:[Object(T.jsx)(we.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"Product"}),Object(T.jsx)(ke.a,{align:"left",children:"Unit Price"}),Object(T.jsx)(ke.a,{align:"center",children:"Quantity"}),Object(T.jsx)(ke.a,{align:"right",children:"Total"})]})}),Object(T.jsx)(Ne.a,{children:s.cartItems.length?s.cartItems.map((function(e){return Object(T.jsxs)(Ce.a,{children:[Object(T.jsxs)(ke.a,{align:"left",children:[Object(T.jsx)(De.a,{className:"delbtn me-2",onClick:function(){return s.handleCartDelete(e._id)}}),e.name]}),Object(T.jsx)(ke.a,{align:"right",children:e.price}),Object(T.jsxs)(ke.a,{align:"right",children:[Object(T.jsx)(nt.a,{color:"Secondary",className:"me-1 counterbtn0",onClick:function(){return s.handleQtyChange(e._id,"decrement")}}),e.qty," ",Object(T.jsx)(at.a,{color:"Secondary",className:"counterbtn",onClick:function(){return s.handleQtyChange(e._id,"increment")}})]}),Object(T.jsx)(ke.a,{align:"right",children:(e.price*e.qty).toFixed(2)})]},e._id)})):Object(T.jsx)(Ce.a,{children:Object(T.jsx)(ke.a,{className:"text-center",colSpan:"4",children:"No Item"})})})]}),Object(T.jsx)(ye.a,{className:"mt-5",children:Object(T.jsxs)(Ne.a,{children:[Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"SubTotal"}),Object(T.jsx)(ke.a,{align:"right",children:l.toFixed(2)})]}),Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"Discount"}),Object(T.jsx)(ke.a,{align:"right",children:d.toFixed(2)})]}),Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"Tax"}),Object(T.jsx)(ke.a,{align:"right",children:h.toFixed(2)})]}),Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:"Grand Total"}),Object(T.jsx)(ke.a,{align:"right",children:m.toFixed(2)})]}),Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{align:"left",children:Object(T.jsx)(p.a,{variant:"contained",size:"large",children:"Cancel"})}),Object(T.jsx)(ke.a,{align:"right",children:Object(T.jsx)(p.a,{variant:"contained",onClick:v,className:"c-btn",color:"secondary",disabled:0===j.length,size:"large",children:"Pay"})})]})]})}),Object(T.jsx)(jt,{isOpen:n,onOpen:function(){r(!0)},onClose:function(){r(!1)},transactionData:g})]})}var ut=a(141),ht=a.n(ut),mt=["children","value","index"];function pt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}function Ot(e){var t=e.children,a=e.value,c=e.index,n=Object(He.a)(e,mt);return Object(T.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:a!==c,id:"scrollable-auto-tabpanel-".concat(c),"aria-labelledby":"scrollable-auto-tab-".concat(c)},n),{},{children:a===c&&Object(T.jsx)(Ve.a,{p:3,children:Object(T.jsx)(N.a,{children:t})})}))}var xt=Object(k.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},card:{width:"30%",margin:"10px 10px",position:"relative"},papergrid:{marginTop:"40px",padding:e.spacing(2)},papergrid1:{marginTop:"40px",padding:e.spacing(1)},paper:{borderRadius:"20px"}}}));function gt(){var e=Object(c.useContext)(Ut),t=xt(),a=n.a.useState(0),r=Object(o.a)(a,2),i=r[0],l=r[1],d=Object(c.useState)({limit:100,page:0}),j=Object(o.a)(d,2),h=j[0],m=(j[1],Object(c.useState)(null)),p=Object(o.a)(m,2),O=p[0],x=p[1],v=Object(c.useState)(null),y=Object(o.a)(v,2),k=y[0],w=y[1],C=Object(c.useState)(!1),S=Object(o.a)(C,2),P=(S[0],S[1]),I=Object(c.useState)(null),q=Object(o.a)(I,2),B=(q[0],q[1]);function z(){return(z=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de()("".concat("https://cashie-backend.herokuapp.com/api/","product/transaction?").concat(ge.a.stringify(h)));case 2:t=e.sent,x(t.data.data.categories),w(t.data.data.all);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){z.apply(this,arguments)}()}),[]),Object(T.jsx)(ne.a,{children:Object(T.jsxs)(f.a,{container:!0,children:[Object(T.jsx)(f.a,{item:!0,xs:12,sm:7,className:t.papergrid,children:Object(T.jsxs)(g.a,{square:!1,className:t.paper,children:[Object(T.jsxs)($e.a,{value:i,onChange:function(e,t){l(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[Object(T.jsx)(Je.a,Object(s.a)({label:"All"},pt(0))),O&&O.map((function(e,t){return Object(T.jsx)(Je.a,Object(s.a)({label:e.name},pt(t+1)))}))]}),Object(T.jsx)(Ot,{value:i,index:0,children:Object(T.jsx)("div",{className:"tabs-wrapper d-flex",style:{justifyContent:"center",width:"100%"},children:k&&k.map((function(a){return Object(T.jsxs)(Ye.a,{onClick:function(){return e.handleSelection(a._id)},className:t.card,children:[Object(T.jsxs)(Ke.a,{children:[Object(T.jsx)(et.a,{component:"img",alt:a.description,height:"200",image:a.image,title:a.name}),Object(T.jsxs)(Xe.a,{children:[Object(T.jsx)(N.a,{gutterBottom:!0,variant:"h5",component:"h2",children:a.name}),Object(T.jsx)(N.a,{variant:"body2",color:"textSecondary",component:"p",children:a.description})]})]}),Object(T.jsx)(Ze.a,{ju:!0,children:Object(T.jsxs)(N.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["$ \xa0",a.price]})}),Object(T.jsx)("div",{className:"m-overlay ".concat(e.cartItems.find((function(e){return e._id===a._id}))?"active":"hidden"," "),children:Object(T.jsx)(ht.a,{className:"d-block"})})]})}))})}),O&&O.map((function(a,c){return Object(T.jsx)(Ot,{value:i,index:c+1,children:Object(T.jsx)("div",{className:"tabs-wrapper d-flex",style:{justifyContent:"center",width:"100%"},children:a.items.map((function(a){return Object(T.jsxs)(Ye.a,{onClick:function(){return e.handleSelection(a._id)},className:t.card,children:[Object(T.jsxs)(Ke.a,{children:[Object(T.jsx)(et.a,{component:"img",alt:a.description,height:"200",image:a.image,title:a.name}),Object(T.jsxs)(Xe.a,{children:[Object(T.jsx)(N.a,{gutterBottom:!0,variant:"h5",component:"h2",children:a.name}),Object(T.jsx)(N.a,{variant:"body2",color:"textSecondary",component:"p",children:a.description})]})]}),Object(T.jsx)(Ze.a,{ju:!0,children:Object(T.jsxs)(N.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["$ \xa0",a.price]})}),Object(T.jsx)("div",{className:"m-overlay ".concat(e.cartItems.find((function(e){return e._id===a._id}))?"active":"hidden"," "),children:Object(T.jsx)(ht.a,{className:"d-block"})})]})}))})})}))]})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:5,className:t.papergrid1,children:Object(T.jsx)(g.a,{square:!1,className:t.paper,children:Object(T.jsx)(bt,{onTransactionData:function(e){B(e)},isModalOpen:function(e){P(!0)}})})})]})})}a(273);var ft=a(198),vt={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},yt=Object(k.a)({table:{width:"100%"}});function Nt(){var e=yt(),t=Object(c.useState)(null),a=Object(o.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],d=s[1],j=Object(c.useState)(null),b=Object(o.a)(j,2),u=(b[0],b[1],Object(c.useState)({start:Te()().startOf("week").format("llll"),end:Te()().endOf("week").format("llll"),limit:5})),h=Object(o.a)(u,2),m=h[0],p=(h[1],[]);if(n&&n.items)for(var O=function(e){var t=n.items.findIndex((function(t){return t._id==e}));-1!==t?p.push(n.items[t].grandtotal):p.push(0)},x=1;x<=7;x++)O(x);var v={labels:["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],datasets:[{label:"Income",data:p,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(c.useEffect)((function(){de()("".concat("https://cashie-backend.herokuapp.com/api/","transaction/dashboard?").concat(ge.a.stringify(m))).then((function(e){return r(e.data.data)}))}),[]),Object(c.useEffect)((function(){de()("".concat("https://cashie-backend.herokuapp.com/api/","transaction?").concat(ge.a.stringify(m))).then((function(e){return d(e.data.data.transactions)}))}),[]),Object(T.jsx)("div",{className:"wholedashboard",children:Object(T.jsxs)(ne.a,{children:[Object(T.jsx)("h4",{className:"headtag pt-2",children:"Dashboard"}),Object(T.jsxs)(f.a,{container:!0,children:[Object(T.jsx)(f.a,{item:!0,lg:4,md:6,xs:12,children:Object(T.jsxs)(g.a,{className:"d-sm-cards maroon-card",children:[Object(T.jsx)("p",{children:n&&n.count}),Object(T.jsx)("img",{className:"cardimg",src:"https://cashie.herokuapp.com/static/media/004-online%20shopping.7c268c3e.svg",alt:"Shopping"}),Object(T.jsx)("h6",{children:"Transactions"})]})}),Object(T.jsx)(f.a,{item:!0,lg:4,md:6,xs:12,children:Object(T.jsxs)(g.a,{className:"d-sm-cards indigo-card",children:[Object(T.jsx)("p",{children:"$".concat(n&&n.total)}),Object(T.jsx)("img",{className:"cardimg",src:"https://cashie.herokuapp.com/static/media/007-money.3705abec.svg",alt:"money"}),Object(T.jsx)("h6",{children:"Income"})]})}),Object(T.jsx)(f.a,{item:!0,lg:4,md:6,xs:12,children:Object(T.jsxs)(g.a,{className:"d-sm-cards orange-card",children:[Object(T.jsx)("p",{children:n&&n.qty}),Object(T.jsx)("img",{className:"cardimg",src:"https://cashie.herokuapp.com/static/media/033-wallet.ac1159bd.svg",alt:"item"}),Object(T.jsx)("h6",{children:"Products"})]})})]}),Object(T.jsxs)(f.a,{container:!0,direction:"row`",alignItems:"stretch",justifyContent:"space-evenly",children:[Object(T.jsx)(f.a,{item:!0,lg:6,xs:12,children:Object(T.jsx)(g.a,{className:"me-3 rounded-3 p-4 mb-4",children:Object(T.jsx)(ft.a,{data:v,options:vt})})}),Object(T.jsx)(f.a,{item:!0,lg:6,xs:12,s:!0,children:Object(T.jsx)(g.a,{className:"ms-3 me-3 p-3 rounded-3 mb-4",children:Object(T.jsxs)(ye.a,{className:e.table,"aria-label":"simple table",children:[Object(T.jsx)(we.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{children:"Reciept No"}),Object(T.jsx)(ke.a,{align:"right",children:"Date"}),Object(T.jsx)(ke.a,{align:"right",children:"Quantity"}),Object(T.jsx)(ke.a,{align:"right",children:"Total"})]})}),Object(T.jsx)(Ne.a,{children:l&&l.map((function(e){return Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{component:"th",scope:"row",children:e._id}),Object(T.jsx)(ke.a,{align:"right",children:Te()(e.createdAt).format("llll")}),Object(T.jsx)(ke.a,{align:"right",children:e.items.length}),Object(T.jsx)(ke.a,{align:"right",children:e.subtotal})]},e._id)}))})]})})})]})]})})}var kt=a(196),wt=a.n(kt),Ct=Object(k.a)({table:{minWidth:650,backgroundColor:"white"},formcont:{backgroundColor:"white"},realpaper:{borderRadius:"15px"}});function St(e){var t=Ct(),a=Object(c.useState)(null),r=Object(o.a)(a,2),i=r[0],l=r[1],d=Object(c.useState)(!0),j=Object(o.a)(d,2),b=j[0],u=j[1],m=n.a.useState(null),p=Object(o.a)(m,2),O=p[0],x=p[1],v=Object(c.useState)(null),y=Object(o.a)(v,2),N=y[0],k=y[1],w=Object(c.useState)({role:"all",sort:"Newest",limit:100}),C=Object(o.a)(w,2),S=C[0],P=C[1];Object(c.useEffect)((function(){de()("".concat("https://cashie-backend.herokuapp.com/api/","user?").concat(ge.a.stringify(S))).then((function(e){return l(e.data.data.users)}))}),[b,S]);var I=function(e){x(e.currentTarget),k(e.currentTarget.id)},q=function(){x(null)},B=Boolean(O);return Object(T.jsxs)("div",{className:"maindivuser",children:[Object(T.jsxs)(ne.a,{className:"mb-3",children:[Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/new"),children:Object(T.jsxs)("button",{className:"useraddbtn mt-4",children:[Object(T.jsx)(wt.a,{className:"me-2"}),"New User"]})})}),Object(T.jsx)(f.a,{container:!0,justifyContent:"flex-end",children:Object(T.jsxs)("form",{onChange:function(e){l([]),P(Object(s.a)(Object(s.a)({},S),{},Object(h.a)({},e.target.name,e.target.value)))},children:[Object(T.jsx)(re.a,{size:"small",className:"".concat(t.formcont," me-4"),children:Object(T.jsx)(qe.a,{id:"outlined-adornment-password",name:"keyword",placeholder:"Search users...",endAdornment:Object(T.jsx)(Be.a,{position:"end",children:Object(T.jsx)(Ee.a,{})}),labelWidth:70})}),Object(T.jsx)(re.a,{variant:"outlined",size:"small",className:"".concat(t.formControl," ").concat(t.formcont," me-4"),children:Object(T.jsxs)(ie.a,{native:!0,value:S.role,inputProps:{name:"role",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{value:"all",children:"All Role"}),Object(T.jsx)("option",{value:"Admin",children:"Admin"}),Object(T.jsx)("option",{value:"Cashier",children:"Cashier"})]})}),Object(T.jsx)(re.a,{variant:"outlined",size:"small",className:"".concat(t.formControl," ").concat(t.formcont),children:Object(T.jsxs)(ie.a,{native:!0,value:S.sort,inputProps:{name:"sort",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{value:"Newest",children:"Newest"}),Object(T.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(T.jsx)("option",{value:"Name",children:"Name"}),Object(T.jsx)("option",{value:"Last Active",children:"Last Active"})]})})]})}),Object(T.jsx)(f.a,{container:!0,children:Object(T.jsx)(f.a,{item:!0,xs:12,children:Object(T.jsx)(g.a,{square:!1,className:t.realpaper,children:Object(T.jsxs)(ye.a,{className:"".concat(t.table," mt-3 rounded"),"aria-label":"simple table",children:[Object(T.jsx)(we.a,{children:Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{children:"Full Name"}),Object(T.jsx)(ke.a,{align:"right",children:"User Name"}),Object(T.jsx)(ke.a,{align:"right",children:"Role"}),Object(T.jsx)(ke.a,{align:"right",children:"Last Active"}),Object(T.jsx)(ke.a,{align:"right",children:"Actions"})]})}),Object(T.jsx)(Ne.a,{children:i?i.map((function(t){return Object(T.jsxs)(Ce.a,{children:[Object(T.jsx)(ke.a,{component:"th",scope:"row",children:t.fullname}),Object(T.jsx)(ke.a,{align:"right",children:t.username}),Object(T.jsx)(ke.a,{align:"right",children:Object(T.jsx)(Me.a,{variant:"outlined",color:"secondary",label:t.role})}),Object(T.jsx)(ke.a,{align:"right",children:Te()(t.lastActive).format("llll")}),Object(T.jsxs)(ke.a,{align:"right",children:[Object(T.jsx)(Le.a,{id:t._id,className:"optionbtn",onClick:I}),Object(T.jsx)(U.a,{id:t._id,open:B,anchorEl:O,onClose:q,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsxs)(A.a,{children:[Object(T.jsxs)(E.a,{className:"optionitemuser",children:[Object(T.jsx)(Q.b,{to:"".concat(e.match.path,"/update/").concat(N),children:Object(T.jsx)(Ue.a,{className:"optionitemuser me-2"})}),"Edit"]}),Object(T.jsxs)(E.a,{onClick:function(){return e=N,console.log(e),void be.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#090636",cancelButtonColor:"#f33968",confirmButtonText:"Delete"}).then((function(t){t.isConfirmed&&de.a.delete("".concat("https://cashie-backend.herokuapp.com/api/","user/").concat(e)).then((function(e){u(!b),be.a.fire("Deleted!","User has been deleted..","success")})).catch((function(e){be.a.fire("Opps!","Somthing went wrong..","error")}))}));var e},className:"optionitemuser",children:[Object(T.jsx)(De.a,{className:"me-2"}),"Delete"]})]})},t._id)]})]},t._id)})):Object(T.jsx)(Ce.a,{children:Object(T.jsx)(ke.a,{colSpan:"5",children:Object(T.jsx)(ve.a,{style:{height:"20px",width:"100%"}})})})})]})})})})]}),Object(T.jsx)("div",{className:"enddivuser",children:Object(T.jsx)("p",{children:"End of Data"})})]})}var Tt=a(138),Pt=a.n(Tt),It=Object(k.a)((function(e){return{paper:{margin:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},realpaper:{borderRadius:"20px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(2),padding:"15px"},submit:{margin:e.spacing(3,0,2)},uploadbtn:{background:"grey",color:"white",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"},hiddencls:{visibility:"hidden"}}}));var qt=function(e){var t=It(),a=Object(c.useState)({}),n=Object(o.a)(a,2),r=n[0],i=n[1],l=Object(c.useState)("POST"),d=Object(o.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)(null),m=Object(o.a)(u,2),O=m[0],v=m[1],y=Object(c.useState)(null),N=Object(o.a)(y,2),k=N[0],w=N[1],S=Object(c.useState)(null),P=Object(o.a)(S,2),I=P[0],q=P[1];Object(c.useEffect)((function(){var t=e.match.params.id;t&&de()("".concat("https://cashie-backend.herokuapp.com/api/","product/").concat(t)).then((function(e){if("success"===e.data.status){var t=e.data.data,a=t.name,c=t.price,n=t.description,l=t.image,o=t.category;i(Object(s.a)(Object(s.a)({},r),{},{name:a,price:c,description:n,hidden:l,category:o})),b("PUT")}}))}),[]),Object(c.useEffect)((function(){de()("".concat("https://cashie-backend.herokuapp.com/api/","category")).then((function(e){"success"===e.data.status&&v(e.data.data.categories)}))}),[]);var B={name:"PUT"===j?C.a.string().min(3).max(100):C.a.string().required().min(3).max(100),price:"PUT"===j?C.a.string().max(1e7).min(0):C.a.number().required().min(0).max(1e13),description:"PUT"===j?C.a.string().max(300):C.a.string().required().max(300),hidden:C.a.string(),category:C.a.string().required()};return console.log(r),Object(T.jsx)(ne.a,{component:"main",maxWidth:"lg",children:Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,className:"m-auto productpaper",children:Object(T.jsx)(g.a,{square:!1,className:t.realpaper,children:Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsxs)("div",{classNmae:"headingdivproduct",children:[Object(T.jsx)(le.a,{onClick:function(){return e.history.goBack()},className:"backbtnproduct"}),Object(T.jsxs)("p",{className:"productformhead",children:["\xa0\xa0\xa0","POST"===j?"Create New Product":"Update Product"]})]}),Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=C.a.validate(r,B,{abortEarly:!1});if(a.error)q(a.error.details);else{var c=new FormData;for(var n in r)c.append(n,r[n]);k&&c.append("image",k),de()({method:j,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===j?"product/"+e.match.params.id:"product"),data:c,headers:{"Content-type":"multipart/formdata"}}).then((function(t){"success"===t.data.status?(q(null),be.a.fire("Success","Product ".concat("PUT"===j?"updated":"created"," successfully..."),"success"),e.history.goBack()):be.a.fire("Opps","Something went wrong...","error")})).catch((function(e){return be.a.fire("Opps","Something went wrong...","error")}))}},onChange:function(e){i(Object(s.a)(Object(s.a)({},r),{},Object(h.a)({},e.target.name,e.target.value)))},className:t.form,noValidate:!0,children:[Object(T.jsxs)(f.a,{container:!0,spacing:2,children:[Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(x.a,{name:"name",variant:"outlined",size:"small",required:!0,fullWidth:!0,placeholder:"Product Name",InputLabelProps:{shrink:!1},value:r&&r.name,helperText:I&&I.find((function(e){return"name"===e.context.key}))&&I.filter((function(e){return"name"===e.context.key})).map((function(e){return e.message}))})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(x.a,{variant:"outlined",required:!0,size:"small",fullWidth:!0,id:"lastName",placeholder:"Price",name:"price",InputLabelProps:{shrink:!1},value:r&&r.price,helperText:I&&I.find((function(e){return"price"===e.context.key}))&&I.filter((function(e){return"price"===e.context.key})).map((function(e){return e.message}))})}),Object(T.jsx)(f.a,{item:!0,sm:12,children:Object(T.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,multiline:!0,rows:3,id:"email",placeholder:"Product description",name:"description",InputLabelProps:{shrink:!1},value:r&&r.description,helperText:I&&I.find((function(e){return"email"===e.context.key}))&&I.filter((function(e){return"email"===e.context.key})).map((function(e){return e.message}))})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:12,children:Object(T.jsx)(re.a,{variant:"outlined",fullWidth:!0,children:Object(T.jsxs)(ie.a,{size:"small",label:"Category",native:!0,fullWidth:!0,inputProps:{name:"category",id:"outlined-age-native-simple"},children:[Object(T.jsx)("option",{"aria-label":"None"}),O&&O.map((function(e){return Object(T.jsx)("option",{selected:r.category===e._id,value:e._id,children:e.name})})),"helperText = ",I&&I.find((function(e){return"category"===e.context.key}))&&I.filter((function(e){return"category"===e.context.key})).map((function(e){return e.message}))]})})}),Object(T.jsx)(f.a,{item:!0,xs:12,sm:12,children:Object(T.jsxs)("div",{className:"imagediv",children:[Object(T.jsx)("label",{className:"my-2",htmlFor:"icon-button-file",children:Object(T.jsxs)(p.a,{className:" ".concat(t.uploadbtn," ").concat(k?t.hiddencls:""),variant:"contained",component:"span",children:[Object(T.jsx)(Pt.a,{})," \xa0 Browse"]})}),Object(T.jsx)("input",{onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(e){console.log(e.target.result),w(e.target.result)}},name:"hidden",accept:"image/*",className:"d-none",id:"icon-button-file",type:"file"}),(k||r.hidden)&&Object(T.jsx)("img",{className:"productimage",src:k||r.hidden,alt:""})]})})]}),Object(T.jsx)(f.a,{container:!0,justifyContent:"center",children:"POST"===j?Object(T.jsx)(p.a,{type:"submit",variant:"contained",size:"large",color:"secondary",className:"mt-5 mb-4",children:"Create"}):Object(T.jsx)(p.a,{type:"submit",variant:"contained",size:"large",color:"secondary",className:"mb-4 mt-5",children:"Update"})})]})]})})})})},Bt=Object(k.a)((function(e){return{paper:{margin:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},realpaper:{borderRadius:"20px"},form:{width:"100%",marginTop:e.spacing(2),padding:"15px"},submit:{margin:e.spacing(3,0,2)},uploadbtn:{background:"grey",color:"white",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"},hiddencls:{visibility:"hidden"}}}));function zt(e){var t=Bt(),a=Object(c.useState)({}),n=Object(o.a)(a,2),r=n[0],i=n[1],l=Object(c.useState)("POST"),d=Object(o.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)(null),m=Object(o.a)(u,2),O=m[0],v=m[1];console.log(r),Object(c.useEffect)((function(){var t=e.match.params.id;t&&de()("".concat("https://cashie-backend.herokuapp.com/api/","category/").concat(t)).then((function(e){if("success"===e.data.status){var t=e.data.data.name;i(Object(s.a)(Object(s.a)({},r),{},{name:t})),b("PUT")}}))}),[]);var y={name:C.a.string().required().min(3).max(100)};return Object(T.jsx)(ne.a,{component:"main",maxWidth:"lg",children:Object(T.jsx)(f.a,{item:!0,xs:12,sm:6,className:"m-auto productpaper",children:Object(T.jsx)(g.a,{square:!1,className:t.realpaper,children:Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsxs)("div",{classNmae:"headingdivproduct",children:[Object(T.jsx)(le.a,{onClick:function(){return e.history.goBack()},className:"backbtnproduct"}),Object(T.jsxs)("p",{className:"productformhead",children:["\xa0\xa0\xa0","POST"===j?"Create New Product":"Update Product"]})]}),Object(T.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=C.a.validate(r,y,{abortEarly:!1});a.error?v(a.error.details):de()({method:j,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===j?"category/"+e.match.params.id:"category"),data:r}).then((function(t){"success"===t.data.status?(v(null),be.a.fire("Success","Category ".concat("PUT"===j?"updated":"created"," successfully..."),"success"),e.history.goBack()):be.a.fire("Opps","Something went wrong...","error")})).catch((function(e){return be.a.fire("Opps","Something went wrong...","error")}))},onChange:function(e){i(Object(s.a)(Object(s.a)({},r),{},Object(h.a)({},e.target.name,e.target.value)))},className:t.form,noValidate:!0,children:Object(T.jsxs)(f.a,{container:!0,spacing:2,children:[Object(T.jsx)(f.a,{item:!0,xs:12,sm:12,children:Object(T.jsx)(x.a,{name:"name",variant:"outlined",size:"small",required:!0,fullWidth:!0,placeholder:"Category Name",InputLabelProps:{shrink:!1},value:r&&r.name,helperText:O&&O.find((function(e){return"name"===e.context.key}))&&O.filter((function(e){return"name"===e.context.key})).map((function(e){return e.message}))})}),Object(T.jsx)(f.a,{container:!0,justifyContent:"center",children:"POST"===j?Object(T.jsx)(p.a,{type:"submit",variant:"contained",size:"large",color:"secondary",className:"mt-5 mb-4",children:"Create"}):Object(T.jsx)(p.a,{type:"submit",variant:"contained",size:"large",color:"secondary",className:"mb-4 mt-5",children:"Update"})})]})})]})})})})}var Dt=a(452);var _t=function(e){return Object(T.jsxs)("div",{className:"main-div",children:[Object(T.jsx)("div",{className:"side-bar",children:Object(T.jsx)(ce,{})}),Object(T.jsxs)("div",{className:"wrapper-class",children:[Object(T.jsx)("div",{className:"nav-bar",children:Object(T.jsx)(M,{})}),Object(T.jsx)("div",{className:"main-section",children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/user/new"),component:he}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/user/update/:id"),component:he}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/user"),component:St}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/product/new"),component:qt}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/product/update/:id"),component:qt}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/product"),component:Ge}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/transaction"),component:gt}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/category/new"),component:zt}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/setting"),component:Dt.a}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/category/update/:id"),component:zt}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/category"),component:Re}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/report"),component:Ie}),Object(T.jsx)(d.b,{path:"".concat(e.match.path,"/main"),component:Nt})]})})]})]})},Ut=n.a.createContext(),At=n.a.createContext();var Et=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(o.a)(r,2),j=i[0],b=i[1],u=Object(c.useState)(null),h=Object(o.a)(u,2),m=h[0],p=h[1];return Object(c.useEffect)((function(){rt("product?limit=100000").then((function(e){return b(e.data.data.products)})),rt("setting").then((function(e){return p(e.data.data)}))}),[]),Object(T.jsx)("div",{children:Object(T.jsx)(Ut.Provider,{value:{cartItems:a,handleQtyChange:function(e,t){var c=a.findIndex((function(t){return t._id===e}));if(-1!==c){var r=Object(l.a)(a);if(1===r[c].qty&&"decrement"===t)return;"increment"===t?r[c].qty++:r[c].qty--,n(r)}},handleSelection:function(e){var t=a.findIndex((function(t){return t._id==e}));if(-1===t){var c=j.find((function(t){return t._id===e}));c.qty=1,c.price=+c.price,n([].concat(Object(l.a)(a),[c]))}else{var r=Object(l.a)(a);r.splice(t,1),n(r)}},handleCartDelete:function(e){var t=a.findIndex((function(t){return t._id===e})),c=Object(l.a)(a);c.splice(t,1),n(c)},removeAllCartItems:function(){n([])}},children:Object(T.jsx)(At.Provider,{value:m,children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{path:"/login",component:I}),Object(T.jsx)(d.b,{path:"/dashboard",render:function(e){return localStorage.getItem("token")?Object(T.jsx)(_t,Object(s.a)({},e)):Object(T.jsx)(d.a,{to:"/login"})}})]})})})})},Wt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,468)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};a(379);i.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(Q.a,{children:Object(T.jsx)(Et,{})})}),document.getElementById("root")),Wt()}},[[380,1,2]]]);
//# sourceMappingURL=main.b7829fa8.chunk.js.map